[ ] NAME:StayFocus - Migração TDD Completa DESCRIPTION:Migração completa do localStorage para arquitetura Supabase seguindo metodologia TDD rigorosa com ciclos Red-Green-Refactor
-[/] NAME:FASE 0: Preparação TDD DESCRIPTION:Setup completo do ambiente de testes e ferramentas para desenvolvimento orientado a testes
--[ ] NAME:Configurar Vitest com coverage completo DESCRIPTION:Setup Vitest, configurar coverage reports, thresholds mínimos e integração com CI/CD
--[ ] NAME:Setup MSW (Mock Service Worker) DESCRIPTION:Configurar MSW para mock de APIs, interceptação de requests e cenários de teste controlados
--[ ] NAME:Configurar Testing Library avançado DESCRIPTION:Setup Testing Library com queries customizadas, utilities de teste e helpers específicos do projeto
--[ ] NAME:Implementar factories e mocks DESCRIPTION:Criar factories para dados de teste, mocks reutilizáveis e utilities para setup/teardown
--[ ] NAME:Criar pipeline CI/CD com testes DESCRIPTION:Configurar GitHub Actions, testes automáticos em PRs e gates de qualidade
--[ ] NAME:Documentar padrões de teste DESCRIPTION:Criar guia de testes, convenções de nomenclatura e templates para novos testes
-[ ] NAME:FASE 1: Autenticação (TDD) DESCRIPTION:Implementação completa de autenticação com Supabase Auth seguindo ciclos TDD rigorosos
--[ ] NAME:CICLO 1: Autenticação Básica DESCRIPTION:Implementar login/logout/registro com TDD completo
---[ ] NAME:RED: Testes para login/logout/registro DESCRIPTION:Escrever testes que falham para autenticação básica, validação de credenciais e gestão de sessão
---[ ] NAME:GREEN: Implementar Supabase Auth básico DESCRIPTION:Implementar código mínimo para fazer testes passarem - hooks useAuth, componentes de login
---[ ] NAME:REFACTOR: Otimizar hooks e componentes DESCRIPTION:Melhorar estrutura do código, extrair lógica comum, otimizar performance mantendo testes passando
---[ ] NAME:INTEGRATE: Validar isolamento de dados DESCRIPTION:Testes de integração para verificar isolamento entre usuários e segurança básica
--[ ] NAME:CICLO 2: Row Level Security (RLS) DESCRIPTION:Implementar políticas RLS com TDD completo
---[ ] NAME:RED: Testes para políticas RLS DESCRIPTION:Escrever testes que verificam isolamento de dados, acesso negado para usuários não autorizados
---[ ] NAME:GREEN: Implementar políticas no Supabase DESCRIPTION:Criar políticas RLS para todas as tabelas, configurar permissões por usuário
---[ ] NAME:REFACTOR: Otimizar queries com RLS DESCRIPTION:Melhorar performance das queries, otimizar índices, refinar políticas
---[ ] NAME:INTEGRATE: Testar com múltiplos usuários DESCRIPTION:Validar isolamento completo com cenários de múltiplos usuários simultâneos
--[ ] NAME:CICLO 3: Gestão de Perfil DESCRIPTION:Implementar CRUD de perfil com TDD completo
---[ ] NAME:RED: Testes para CRUD de perfil DESCRIPTION:Escrever testes para criação, leitura, atualização e exclusão de perfis de usuário
---[ ] NAME:GREEN: Implementar APIs e hooks DESCRIPTION:Implementar APIs backend e hooks React Query para gestão de perfil
---[ ] NAME:REFACTOR: Melhorar validações DESCRIPTION:Adicionar validações robustas, sanitização de dados, tratamento de erros
---[ ] NAME:INTEGRATE: Testar persistência e sync DESCRIPTION:Validar persistência de dados, sincronização e consistência do perfil
-[ ] NAME:FASE 2: Sessões/Timer (TDD) DESCRIPTION:Implementação do core da aplicação - sistema de timer Pomodoro com TDD rigoroso
--[ ] NAME:CICLO 1: Timer Básico DESCRIPTION:Implementar funcionalidade básica de timer com TDD
---[ ] NAME:RED: Testes para start/pause/stop DESCRIPTION:Escrever testes para controles básicos do timer, contagem regressiva e estados
---[ ] NAME:GREEN: Implementar lógica de timer DESCRIPTION:Implementar código mínimo para timer funcional com controles básicos
---[ ] NAME:REFACTOR: Otimizar performance DESCRIPTION:Melhorar precisão do timer, otimizar re-renders, implementar Web Workers se necessário
---[ ] NAME:INTEGRATE: Testar com notificações DESCRIPTION:Integrar com sistema de notificações, validar timing preciso
--[ ] NAME:CICLO 2: Persistência de Sessões DESCRIPTION:Implementar CRUD de sessões com TDD
---[ ] NAME:RED: Testes para CRUD de sessões DESCRIPTION:Escrever testes para criação, leitura, atualização e exclusão de sessões
---[ ] NAME:GREEN: Implementar APIs e hooks DESCRIPTION:Implementar APIs backend e hooks React Query para gestão de sessões
---[ ] NAME:REFACTOR: Melhorar estrutura de dados DESCRIPTION:Otimizar schema de dados, melhorar relacionamentos, adicionar índices
---[ ] NAME:INTEGRATE: Testar sincronização offline DESCRIPTION:Validar funcionamento offline, queue de sincronização, resolução de conflitos
--[ ] NAME:CICLO 3: Configurações de Tempo DESCRIPTION:Implementar personalização de durações com TDD
---[ ] NAME:RED: Testes para personalização DESCRIPTION:Escrever testes para configurações customizadas de foco e pausa
---[ ] NAME:GREEN: Implementar preferências DESCRIPTION:Implementar sistema de preferências, persistência de configurações
---[ ] NAME:REFACTOR: Validar configurações DESCRIPTION:Adicionar validações, limites razoáveis, UX melhorada
---[ ] NAME:INTEGRATE: Testar persistência global DESCRIPTION:Validar que configurações persistem entre sessões e dispositivos
-[ ] NAME:FASE 3: Hiperfocos (TDD) DESCRIPTION:Finalizar módulo Hiperfocos com TDD rigoroso, corrigindo testes existentes
--[-] NAME:CICLO 1: Correção de Testes Existentes DESCRIPTION:Aplicar TDD para corrigir os 25 testes falhantes identificados
---[-] NAME:RED: Analisar testes falhantes DESCRIPTION:Identificar e categorizar os 31 testes que estão falhando
---[-] NAME:GREEN: Corrigir ConversorInteresses DESCRIPTION:Corrigir 12 falhas relacionadas a mocks do Supabase
---[-] NAME:GREEN: Corrigir useOnlineStatus DESCRIPTION:Corrigir 6 falhas com detecção offline e loops infinitos
---[-] NAME:GREEN: Corrigir VisualizadorTarefas DESCRIPTION:Corrigir problema com múltiplos elementos role='list'
---[-] NAME:GREEN: Corrigir offlineQueue DESCRIPTION:Corrigir problemas com persistência no localStorage
---[-] NAME:GREEN: Corrigir LembreteHidratacao DESCRIPTION:Corrigir 8 falhas com React Query e mocks
---[-] NAME:REFACTOR: Melhorar arquitetura identificada DESCRIPTION:Refatorar código baseado nos problemas identificados nos testes
---[-] NAME:INTEGRATE: Validar com outros módulos DESCRIPTION:Testes de integração entre Hiperfocos e outros módulos
--[ ] NAME:CICLO 2: Hierarquia de Tarefas DESCRIPTION:Implementar sistema de hierarquia com TDD
---[ ] NAME:RED: Testes para drag-and-drop e hierarquia DESCRIPTION:Escrever testes para reordenação, aninhamento e validação de hierarquia
---[ ] NAME:GREEN: Implementar lógica de hierarquia DESCRIPTION:Implementar algoritmos de hierarquia, drag-and-drop, validações
---[ ] NAME:REFACTOR: Otimizar algoritmos DESCRIPTION:Melhorar performance de ordenação, otimizar re-renders
---[ ] NAME:INTEGRATE: Testar com sessões ativas DESCRIPTION:Validar hierarquia durante sessões ativas, consistência de dados
--[ ] NAME:CICLO 3: Alternância de Foco DESCRIPTION:Implementar mudança inteligente de contexto com TDD
---[ ] NAME:RED: Testes para mudança de contexto DESCRIPTION:Escrever testes para alternância automática e manual de hiperfocos
---[ ] NAME:GREEN: Implementar alternância inteligente DESCRIPTION:Implementar lógica de sugestão e alternância de hiperfocos
---[ ] NAME:REFACTOR: Melhorar UX de transições DESCRIPTION:Otimizar animações, feedback visual, experiência de transição
---[ ] NAME:INTEGRATE: Testar com histórico DESCRIPTION:Validar integração com histórico de sessões e estatísticas
-[ ] NAME:FASE 4: Alimentação (TDD) DESCRIPTION:Completar migração do módulo Alimentação com TDD rigoroso
--[-] NAME:CICLO 1: Upload de Imagens DESCRIPTION:Finalizar sistema de upload com TDD
---[-] NAME:RED: Testes para upload e otimização DESCRIPTION:Escrever testes para upload, compressão, validação de formatos
---[-] NAME:GREEN: Implementar Supabase Storage DESCRIPTION:Implementar upload para Supabase Storage, processamento de imagens
---[-] NAME:REFACTOR: Otimizar compressão e cache DESCRIPTION:Melhorar algoritmos de compressão, implementar cache inteligente
---[-] NAME:INTEGRATE: Testar com receitas e refeições DESCRIPTION:Validar integração completa com sistema de receitas e refeições
--[ ] NAME:CICLO 2: Sincronização Offline Avançada DESCRIPTION:Melhorar sistema de sincronização com TDD
---[ ] NAME:RED: Testes para conflitos e merge DESCRIPTION:Escrever testes para cenários de conflito, merge automático
---[ ] NAME:GREEN: Implementar resolução de conflitos DESCRIPTION:Implementar algoritmos de merge, resolução automática
---[ ] NAME:REFACTOR: Melhorar algoritmos de sync DESCRIPTION:Otimizar performance de sincronização, reduzir latência
---[ ] NAME:INTEGRATE: Testar cenários complexos DESCRIPTION:Validar cenários edge case, múltiplos dispositivos, conectividade intermitente
-[ ] NAME:FASE 5: Estudos (TDD) DESCRIPTION:Implementar módulo Estudos com integração ao sistema de sessões
--[ ] NAME:CICLO 1: Sistema Pomodoro Integrado DESCRIPTION:Integrar estudos com timer de sessões
---[ ] NAME:RED: Testes para integração Pomodoro DESCRIPTION:Escrever testes para sessões de estudo, breaks, estatísticas
---[ ] NAME:GREEN: Implementar integração com sessões DESCRIPTION:Conectar módulo estudos com sistema de timer existente
---[ ] NAME:REFACTOR: Otimizar fluxo de estudo DESCRIPTION:Melhorar UX do fluxo de estudo, transições suaves
---[ ] NAME:INTEGRATE: Testar com estatísticas DESCRIPTION:Validar geração de estatísticas de produtividade
--[ ] NAME:CICLO 2: Tracking de Produtividade DESCRIPTION:Implementar métricas de produtividade
---[ ] NAME:RED: Testes para métricas DESCRIPTION:Escrever testes para cálculo de produtividade, tendências
---[ ] NAME:GREEN: Implementar cálculos DESCRIPTION:Implementar algoritmos de análise de produtividade
---[ ] NAME:REFACTOR: Otimizar análises DESCRIPTION:Melhorar precisão dos cálculos, performance
---[ ] NAME:INTEGRATE: Testar com outros módulos DESCRIPTION:Validar integração com hiperfocos e sessões
-[ ] NAME:FASE 6: Saúde (TDD) DESCRIPTION:Implementar módulo Saúde com validação rigorosa para dados sensíveis
--[ ] NAME:CICLO 1: Medicamentos e Lembretes DESCRIPTION:Sistema crítico de medicamentos
---[ ] NAME:RED: Testes para medicamentos críticos DESCRIPTION:Escrever testes para lembretes críticos, validações rigorosas
---[ ] NAME:GREEN: Implementar sistema de medicamentos DESCRIPTION:Implementar CRUD seguro, validações médicas
---[ ] NAME:REFACTOR: Validações rigorosas DESCRIPTION:Adicionar validações médicas, alertas de segurança
---[ ] NAME:INTEGRATE: Testar notificações críticas DESCRIPTION:Validar sistema de notificações para medicamentos
--[ ] NAME:CICLO 2: Tracking de Humor DESCRIPTION:Sistema de monitoramento de humor
---[ ] NAME:RED: Testes para tracking de humor DESCRIPTION:Escrever testes para registro de humor, análises
---[ ] NAME:GREEN: Implementar sistema de humor DESCRIPTION:Implementar registro, visualizações, tendências
---[ ] NAME:REFACTOR: Melhorar análises DESCRIPTION:Otimizar algoritmos de análise de padrões
---[ ] NAME:INTEGRATE: Testar com outros módulos DESCRIPTION:Validar correlações com produtividade e sono
-[ ] NAME:FASE 7: Sono (TDD) DESCRIPTION:Implementar módulo Sono com analytics complexos
--[ ] NAME:CICLO 1: Padrões de Sono DESCRIPTION:Tracking básico de sono
---[ ] NAME:RED: Testes para padrões de sono DESCRIPTION:Escrever testes para registro de sono, cálculos de qualidade
---[ ] NAME:GREEN: Implementar tracking de sono DESCRIPTION:Implementar registro de horários, qualidade do sono
---[ ] NAME:REFACTOR: Otimizar cálculos DESCRIPTION:Melhorar algoritmos de análise de qualidade
---[ ] NAME:INTEGRATE: Testar com produtividade DESCRIPTION:Validar correlações com performance diária
--[ ] NAME:CICLO 2: Análise e Relatórios DESCRIPTION:Analytics avançados de sono
---[ ] NAME:RED: Testes para analytics complexos DESCRIPTION:Escrever testes para tendências, relatórios, predições
---[ ] NAME:GREEN: Implementar análises avançadas DESCRIPTION:Implementar algoritmos de análise de tendências
---[ ] NAME:REFACTOR: Otimizar performance DESCRIPTION:Melhorar performance de cálculos complexos
---[ ] NAME:INTEGRATE: Testar relatórios completos DESCRIPTION:Validar geração de relatórios detalhados
-[ ] NAME:FASE 8: Lazer (TDD) DESCRIPTION:Implementar módulo Lazer com recomendações inteligentes
--[ ] NAME:CICLO 1: Tracking de Atividades DESCRIPTION:Sistema básico de lazer
---[ ] NAME:RED: Testes para atividades de lazer DESCRIPTION:Escrever testes para registro de atividades, categorização
---[ ] NAME:GREEN: Implementar sistema de lazer DESCRIPTION:Implementar CRUD de atividades, categorias
---[ ] NAME:REFACTOR: Melhorar categorização DESCRIPTION:Otimizar sistema de tags e categorias
---[ ] NAME:INTEGRATE: Testar com tempo livre DESCRIPTION:Validar integração com agenda e tempo disponível
--[ ] NAME:CICLO 2: Recomendações Inteligentes DESCRIPTION:Sistema de sugestões
---[ ] NAME:RED: Testes para algoritmo de recomendação DESCRIPTION:Escrever testes para sugestões baseadas em padrões
---[ ] NAME:GREEN: Implementar recomendações DESCRIPTION:Implementar algoritmo de sugestões personalizadas
---[ ] NAME:REFACTOR: Otimizar algoritmo DESCRIPTION:Melhorar precisão das recomendações
---[ ] NAME:INTEGRATE: Testar personalização DESCRIPTION:Validar aprendizado e personalização do sistema
-[ ] NAME:FASE 9: Perfil (TDD) DESCRIPTION:Implementar módulo Perfil com configurações avançadas
--[ ] NAME:CICLO 1: Configurações Avançadas DESCRIPTION:Sistema completo de preferências
---[ ] NAME:RED: Testes para configurações complexas DESCRIPTION:Escrever testes para preferências, temas, notificações
---[ ] NAME:GREEN: Implementar sistema de config DESCRIPTION:Implementar gerenciamento completo de configurações
---[ ] NAME:REFACTOR: Melhorar UX de configuração DESCRIPTION:Otimizar interface de configurações
---[ ] NAME:INTEGRATE: Testar persistência global DESCRIPTION:Validar sincronização de configurações
--[ ] NAME:CICLO 2: Backup e Restore DESCRIPTION:Sistema de backup completo
---[ ] NAME:RED: Testes para backup/restore DESCRIPTION:Escrever testes para backup automático, restore seletivo
---[ ] NAME:GREEN: Implementar sistema de backup DESCRIPTION:Implementar backup automático, export/import
---[ ] NAME:REFACTOR: Otimizar compressão DESCRIPTION:Melhorar eficiência do backup, compressão
---[ ] NAME:INTEGRATE: Testar recuperação completa DESCRIPTION:Validar cenários de recuperação de dados
-[ ] NAME:FASE 10: Estatísticas (TDD) DESCRIPTION:Implementar módulo Estatísticas agregando dados de todos os módulos
--[ ] NAME:CICLO 1: Agregação de Dados DESCRIPTION:Sistema de coleta e agregação
---[ ] NAME:RED: Testes para agregações complexas DESCRIPTION:Escrever testes para joins, agregações, performance
---[ ] NAME:GREEN: Implementar APIs de agregação DESCRIPTION:Implementar queries otimizadas, cálculos estatísticos
---[ ] NAME:REFACTOR: Otimizar performance DESCRIPTION:Melhorar performance de queries complexas
---[ ] NAME:INTEGRATE: Testar com todos os módulos DESCRIPTION:Validar agregação de dados de todos os módulos
--[ ] NAME:CICLO 2: Visualizações e Relatórios DESCRIPTION:Interface de estatísticas
---[ ] NAME:RED: Testes para gráficos e relatórios DESCRIPTION:Escrever testes para componentes de visualização
---[ ] NAME:GREEN: Implementar dashboard DESCRIPTION:Implementar gráficos, métricas, relatórios
---[ ] NAME:REFACTOR: Otimizar visualizações DESCRIPTION:Melhorar performance de renderização
---[ ] NAME:INTEGRATE: Testar exportação DESCRIPTION:Validar export de relatórios, CSV, PDF
-[ ] NAME:FASE 11: PWA e Otimizações DESCRIPTION:Implementar funcionalidades avançadas de PWA com TDD
--[ ] NAME:Service Worker com TDD DESCRIPTION:Implementar cache inteligente com testes
--[ ] NAME:Push Notifications com TDD DESCRIPTION:Sistema de notificações com testes
--[ ] NAME:Background Sync com TDD DESCRIPTION:Sincronização em background com testes
--[ ] NAME:Performance Optimization com TDD DESCRIPTION:Otimizações de performance com métricas
-[ ] NAME:FASE 12: Finalização DESCRIPTION:Testes finais, documentação e deploy
--[ ] NAME:Testes End-to-End completos DESCRIPTION:Suite completa de testes E2E com Playwright
--[ ] NAME:Documentação técnica completa DESCRIPTION:Documentação de APIs, arquitetura e manutenção
--[ ] NAME:Deploy e monitoramento DESCRIPTION:Deploy em produção com monitoramento
--[ ] NAME:Limpeza de código legacy DESCRIPTION:Remoção de código antigo e dependências não utilizadas